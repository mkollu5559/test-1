locals {
  external_secrets = {
    resources = {
      limits = {
        cpu    = "100m"
        memory = "100Mi"
      }
      requests = {
        memory = "100Mi"
      }
    }

    securityContext = {
      readOnlyRootFilesystem   = true
      runAsNonRoot             = true
      runAsUser                = 1000
      allowPrivilegeEscalation = false
    }

    webhook = {
      resources = {
        limits = {
          cpu    = "100m"
          memory = "100Mi"
        }
        requests = {
          memory = "100Mi"
        }
      }

      securityContext = {
        readOnlyRootFilesystem   = true
        runAsNonRoot             = true
        runAsUser                = 1000
        allowPrivilegeEscalation = false
      }
    }

    certController = {
      securityContext = {
        readOnlyRootFilesystem   = true
        runAsNonRoot             = true
        runAsUser                = 1000
        allowPrivilegeEscalation = false
      }
    }

    revisionHistoryLimit = 2
  }
}
